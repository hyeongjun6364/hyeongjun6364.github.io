(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[843],{4030:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return y}});var r=t(29),i=t(7794),a=t.n(i),o=t(7294),s=t(6154),c=t(9790);var u=(0,c.Z)("button",{target:"egmg6wd8"})({name:"yvht7k",styles:"padding:5px 10px;border:none;border-radius:5px;background-color:#007bff;color:#fff;cursor:pointer;margin-bottom:10px;margin-right:1%"}),l=(0,c.Z)("div",{target:"egmg6wd7"})({name:"1gp8eof",styles:"display:flex;flex-wrap:wrap;gap:10px;margin-bottom:10px;justify-content:center"}),d=(0,c.Z)("button",{target:"egmg6wd6"})("background-color:",(function(e){return e.active?"#007bff":"#f0f0f0"}),";color:",(function(e){return e.active?"#fff":"#000"}),";border:none;border-radius:5px;padding:5px 10px;cursor:pointer;"),p=(0,c.Z)("input",{target:"egmg6wd5"})({name:"pvmxsu",styles:"flex:1;padding:5px;border:1px solid #ccc;border-radius:5px;margin-bottom:10px;margin-right:100px"}),f=(0,c.Z)("div",{target:"egmg6wd4"})({name:"fx52nf",styles:"background-color:#fff;border:1px solid #e0e0e0;border-radius:10px;padding:20px;margin-bottom:20px;cursor:pointer;display:flex;align-items:center"}),g=(0,c.Z)("div",{target:"egmg6wd3"})({name:"82a6rk",styles:"flex:1"}),x=(0,c.Z)("div",{target:"egmg6wd2"})({name:"879ic9",styles:"margin-left:20px"}),m=(0,c.Z)("div",{target:"egmg6wd0"})({name:"9ipo9h",styles:".pagination{display:flex;justify-content:center;margin-top:15px;}ul{list-style:none;padding:0;}ul.pagination li{display:inline-block;width:30px;height:30px;border:1px solid #e2e2e2;display:flex;justify-content:center;align-items:center;font-size:1rem;margin-top:30px;}ul.pagination li:first-child{border-radius:5px 0 0 5px;}ul.pagination li:last-child{border-radius:0 5px 5px 0;}ul.pagination li a{text-decoration:none;color:#337ab7;font-size:1rem;}ul.pagination li.active a{color:white;}ul.pagination li.active{background-color:#337ab7;}ul.pagination li a:hover,ul.pagination li a.active{color:blue;}"}),h=t(1163),v=t(8447),b=t(5893),y=function(){var e=(0,o.useState)(null),n=e[0],t=e[1],i=(0,o.useState)(""),c=i[0],y=i[1],k=(0,o.useState)([]),w=k[0],j=k[1],_=(0,o.useState)([]),C=_[0],Z=_[1],S=(0,o.useState)(1),E=S[0],q=S[1],I=function(){var e=(0,r.Z)(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.post("http://backend-practice.codebootcamp.co.kr/graphql",{query:'\n            mutation {\n              deleteUseditem(useditemId: "'.concat(n,'")\n            }\n          ')},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("accessToken"))}});case 3:e.sent.data.data.deleteUseditem===n&&(Z((function(e){return e.filter((function(e){return e._id!==n}))})),alert("\uac8c\uc2dc\uae00\uc774 \uc131\uacf5\uc801\uc73c\ub85c \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("\uac8c\uc2dc\uae00 \uc791\uc131\uc790\ub9cc \uc0ad\uc81c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){N()}),[]);var N=function(){var e=(0,r.Z)(a().mark((function e(){var n,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.post("http://backend-practice.codebootcamp.co.kr/graphql",{query:'\n          query {\n            fetchUseditems(\n              isSoldout: false\n              search: ""\n              page: 1\n            \n            ) {\n              _id\n              name\n              remarks\n              contents\n              price\n              tags\n           \n            }\n          }          \n          '},{headers:{"Content-Type":"application/json"}});case 3:(n=e.sent).data.data&&(t=n.data.data.fetchUseditems,Z(t),j(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching study groups:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),T=Array.from(new Set(w.flatMap((function(e){return e.tags})))),P=(0,h.useRouter)();(0,o.useEffect)((function(){var e=w.filter((function(e){return e.tags.includes("study")}));n&&(e=e.filter((function(e){return e.tags.includes(n)}))),c&&(e=e.filter((function(e){return e.remarks.toLowerCase().includes(c.toLowerCase())}))),Z(e)}),[c,n,w]);var Q=10*(E-1),z=Q+10,R=C.slice(Q,z);return(0,b.jsxs)("div",{children:[(0,b.jsx)(l,{children:T.map((function(e){return(0,b.jsxs)(d,{active:n===e,onClick:function(){return function(e){t((function(n){return n===e?null:e}))}(e)},children:["#",e]},e)}))}),(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,b.jsx)(p,{type:"text",value:c,onChange:function(e){return y(e.target.value)},placeholder:"Search questions..."}),(0,b.jsx)(u,{onClick:function(){var e;e="/QnaWrite",P.push(e)},children:"Write a Question"})]}),(0,b.jsx)("div",{children:R.map((function(e){return(0,b.jsxs)(f,{onClick:function(){return n=Number(e._id),void P.push("/QuestionRoom/QuestionItem?postId=".concat(n));var n},children:[(0,b.jsxs)(g,{children:[(0,b.jsx)("h3",{children:e.remarks}),(0,b.jsx)("p",{children:e.contents}),(0,b.jsx)("br",{}),(0,b.jsxs)("p",{children:["\uc791\uc131\uc790: ",e.name]}),(0,b.jsx)(u,{onClick:function(){return I(e._id)},children:"\uac8c\uc2dc\uae00 \uc0ad\uc81c"}),(0,b.jsx)(u,{children:"\ub313\uae00\ub2ec\uae30"})]}),(0,b.jsx)(x,{children:(0,b.jsx)("img",{src:e.images,alt:"Thumbnail",width:"100",height:"100",loading:"lazy"})})]},e._id)}))}),(0,b.jsx)(m,{children:(0,b.jsx)(v.Z,{activePage:E,itemsCountPerPage:10,totalItemsCount:C.length,pageRangeDisplayed:10,onChange:function(e){q(e)}})})]})}},7475:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/QuestionRoom",function(){return t(4030)}])}},function(e){e.O(0,[447,774,888,179],(function(){return n=7475,e(e.s=n);var n}));var n=e.O();_N_E=n}]);